<!doctype html>
<html>
    <head>
        <meta charset="utf-8">
        <title>Joe’s Hotdogs</title>
        <style type="text/css">
            html,body,input {font-family: 'Times New Roman', Times, serif;
                             font-size: 20px;}
        </style>
    </head>

    <body>
        <h1>Welcome to Joe’s Hotdogs!</h1>
        <h2>Your Order</h2>

        <script language="javascript">

            // initialization and declaration 
            const TAX_RATE = 0.0625, DISCOUNT = 0.1, DEAL = 20;
            var subtotal = 0, tax, total;
            var food = [
            {
                name : "Hotdogs",
                unit_price: 3.25,
                orders: 1,
                subsubtotal_price: 0
            },
            {
                name : "Fries",
                unit_price: 2.00,
                orders: 1,
                subsubtotal_price: 0
            },
            {
                name : "Sodas",
                unit_price: 1.50,
                orders: 1,
                subsubtotal_price: 0
            }
            ];
        
            // prompt user for orders
            for(var i=0; i<food.length; i++){
                var food_name = food[i].name.toLowerCase();
                do {          // validate if the input is a positive integer                
                    food[i].orders = prompt("how many " + food_name + "?", 1);    
                } while ((isNaN(food[i].orders)) || 
                         (parseInt(food[i].orders) != food[i].orders) || 
                                                        (food[i].orders < 0))  
                food[i].subsubtotal_price = food[i].orders * food[i].unit_price;
                subtotal += food[i].subsubtotal_price;
            }

            //print orders 
            for(var i=0; i<food.length; i++){
                document.write("# " + food[i].name + ": " + food[i].orders + 
                                " at $" + food[i].unit_price.toFixed(2) + 
                                " is $" + food[i].subsubtotal_price.toFixed(2));
                document.write("<br>");
            }

            //Implement Joe’s special
            //           10% discount if the order (before tax) is at least $20
            if (subtotal >= DEAL){
                document.write("You qualified for our " + DISCOUNT * 100 + 
                                                        "% discount." + "<br>");
                subtotal *= 1 - DISCOUNT;
            }

            // calculate final price
                tax = subtotal * TAX_RATE;
                total = subtotal + tax;

            //print final deal
            document.write("Subtotal: $" + subtotal.toFixed(2) + "<br>"); 
            document.write("Meals Tax: $" + tax.toFixed(2) + "<br>"); 
            document.write("Total: $" + total.toFixed(2) + "<br>"); 

        </script>
    </body>
</html>
