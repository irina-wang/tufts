<!DOCTYPE html>
<html>
<head>
    <title> Amicable Numbers</title>
    <script language="javascript">

        function isFactor(num, test_num){
            if (num % test_num == 0) 
                return true;
            return false;
        }
        
        function showFactors(arr){
            return arr.toString();
        }

        function addFactors(arr){
            var sum = 0;
            for(i = 0; i < arr.length; i++){
                sum += arr[i];
            }
            return sum;
        }

        function getFactors(num){
            var arr = [];
            for (i = 1; i < num; i++){
                if (isFactor(num, i)){
                    arr.push(i);
                }
            }
            return arr;
        }

        function test(){
            n1 = document.getElementById("n1").value;
			n2 = document.getElementById("n2").value;

            if(!isNaN(n1) && !isNaN(n2)){
                document.getElementById("factors").innerHTML = 
                    "n1's factors: " + showFactors(getFactors(n1)) + "<br/>"
                  + "n2's factors: " + showFactors(getFactors(n2)) + "<br/>";

            if (addFactors(getFactors(n1)) == n2 && 
                                            addFactors(getFactors(n2)) == n1){
                document.getElementById("result").innerHTML = n1 + " and " 
                                            + n2 + " are amicable numbers";
            }else{
                document.getElementById("result").innerHTML = n1 + " and " 
                                            + n2 + " are not amicable numbers";
                }
            }
             
        }
            
    </script>

</head>

<body>

<h2>Enter your choices</h2>
<form name="form2">
    Number 1&nbsp;&nbsp;
    <script language="javascript">
    document.write ('<input type="text" name="n1" id="n1" value="n1">');
    </script>	
        <br />
    Number 2 &nbsp;&nbsp;
    <script language="javascript">
    document.write ('<input type="text" name="n2" id="n2" value="n2">');
    </script>	

    <br /><br />
    <input type="button" value = "check" 
           onclick ="test()">
</form>
<div id = "factors"> &nbsp;</div>
<div id = "result"> &nbsp;</div>


<!--------------------------- TEST DATA -------------------------
    <script language="javascript">
        /*  ----- Test Code For isFactor() ------ 
        alert(isFactor(3,2)); // expected false
        alert(isFactor(3,3)); // expected true
        alert(isFactor(-1,1)); // expected true
        alert(isFactor(1,-1)); // expected true
        alert(isFactor(1,0)); // expected false


        /*  ----- Test Code For showFactors() ------ 
        // note : printing is tested separately at the page
        var test_arr_1 = [1, 3, 4, 2, 3]; 
        alert(showFactors(test_arr_1));
        var test_arr_2 = [1, 4, 3, 1.2, 4, 2, 3]; 
        alert(showFactors(test_arr_2));
        var test_arr_3 = ["2", 'k', -1, 'v', 2];
        alert(showFactors(test_arr_3));
                

        /*  ----- Test Code For addFactors() ------ 
        var test_arr_1 = [1, 3, 4, 2, 3]; 
        alert(addFactors(test_arr_1)); // expected 13 
        var test_arr_2 = [1, -4, -3, -1, 4, 2, 3]; 
        alert(addFactors(test_arr_2)); // expected 2
        var test_arr_3 = [];
        alert(addFactors(test_arr_3)); // expected 0


        /*  ----- Test Code For getFactors() ------ 
        alert(getFactors(5)); // expected 1 
        alert(getFactors(0)); // expected nothing
        alert(getFactors(1)); // expected nothing
        alert(getFactors(-1)); // expected nothing
        alert(getFactors(15)); // expected 1,3,5

                 
</script>

                                                                 -->

</body>
</html>